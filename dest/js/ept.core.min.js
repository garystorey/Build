!function(){"use strict";"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){return this.match("^"+t)===t}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return this.match(t+"$")===t}),"function"!=typeof String.prototype.toProperCase&&(String.prototype.toProperCase=function(){return this.toLowerCase().replace(/^(.)|\s(.)/g,function(t){return t.toUpperCase()})}),"function"!=typeof String.prototype.pad&&(String.prototype.pad=function(t,e){for(var i=this;i.length<t;)i=e?e:"0"+i;return i}),"function"!=typeof String.prototype.has&&(String.prototype.has=function(t){return this.indexOf(t)>-1}),"function"!=typeof String.prototype.replaceAll&&(String.prototype.replaceAll=function(t,e){return this.split(t).join(e)})}(),function(){"use strict";var t={debug:!1,supportURL:"http://mymacys.net/sites/EPT/workrequest/Pages/CustomerRequest.aspx",onLoadFunctions:[]};t.isEditMode=function(){return!("undefined"==typeof macysEditMode||""===$("#MSOLayout_InDesignMode").val())},t.log=function(e){window.console&&console.log&&t.debug&&console.log(e)},t.isTouch=function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)},t.removeHTML=function(t){if(t){var e=document.createElement("div");return e.innerHTML=t,document.all?e.innerText:e.textContent}return""},t.forEach=function(t,e,i){if("[object Object]"===Object.prototype.toString.call(t))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(i,t[n],n,t);else for(var a=0,s=t.length;a<s;a++)e.call(i,t[a],a,t)},t.createElement=function(t){var e,i,n;if("string"==typeof t)return e=document.createElement("div"),e.innerHTML=t,e.firstChild;if(e=document.createElement(t.tag),i=document.createTextNode(t.text),e.appendChild(i),t.id&&e.setAttribute("id",t.id),t.classes)for(n=t.classes.length;n--;)e.classList.add(t.classes[n]);return e},t.removeSpecialChars=function(t){return t.replace(/[^\w\s]/gi,"")},t.removeSpaces=function(t){return t.replaceAll(" ","")},t.onLoad=function(e){t.onLoadFunctions.push(e)},t.onload=t.onLoad,t.executeOnLoad=function(){var e,i=t.onLoadFunctions,n=i.length,a=0;if(n>0)for(;a<n;a++)e=i[a],t["private"].executeFunctionByName(e);var s=document.body,r=document.createEvent("Event");r.initEvent("onLoadComplete",!0,!0),s.dispatchEvent(r)},t["private"]={executeFunctionByName:function(t,e){e=e||window;for(var i=t.split("."),n=i.pop(),a=0,s=i.length;a<s;a++)e=e[i[a]];return e[n].apply(this)},setClasses:function(){var t=navigator.userAgent.toString().toLowerCase(),e=location.href;(e.indexOf("_layout")>-1||e.indexOf("_catalog")>-1||e.indexOf("/Lists/")>-1||e.indexOf("/Forms/")>-1)&&document.body.classList.add("systempage"),document.body.classList.add("js"),document.body.classList.remove("no-js"),t.indexOf("trident")>-1&&document.body.classList.add("ie"),t.indexOf("ipad")>-1&&document.body.classList.add("ipad"),t.indexOf("android")>-1&&document.body.classList.add("android")}},window.ept=t}(),function(t){"use strict";document.addEventListener("DOMContentLoaded",function(){t["private"].setClasses(),t.executeOnLoad()})}(ept),function(t,e,i,n){"use strict";var a=n.supportURL,s=["ctl00_PlaceHolderMain_SiteAdministration_RptControls_TranslationStatusListLink","ctl00_PlaceHolderMain_Customization_RptControls_AreaChromeSettings","ctl00_PlaceHolderMain_Customization_RptControls_DesignEditor","ctl00_PlaceHolderMain_Customization_RptControls_Theme","ctl00_PlaceHolderMain_Galleries_RptControls_Themes","ctl00_PlaceHolderMain_Customization_RptControls_AreaTemplateSettings","ctl00_PlaceHolderMain_Customization_RptControls_DesignImport","ctl00_PlaceHolderMain_Customization_RptControls_DeviceChannelSettings","ctl00_PlaceHolderMain_Galleries_RptControls_CmsMasterPageCatalog","ctl00_PlaceHolderMain_UsersAndPermissions_RptControls_SiteAppPrincipals","ctl00_PlaceHolderMain_Galleries_RptControls_Designs","ctl00_PlaceHolderMain_SiteAdministration_RptControls_RegionalSettings","ctl00_PlaceHolderMain_SiteAdministration_RptControls_AreaCacheSettings","ctl00_PlaceHolderMain_SiteAdministration_RptControls_VariationsNominateSiteLink","ctl00_PlaceHolderMain_SearchAdministration_RptControls_MetadataPropertiesSite","ctl00_PlaceHolderMain_SearchAdministration_RptControls_SiteSearchSettings","ctl00_PlaceHolderMain_SearchAdministration_RptControls_SrchVis","ctl00_PlaceHolderMain_SearchAdministration_RptControls_SearchConfigurationImportSPWeb","ctl00_PlaceHolderMain_SearchAdministration_RptControls_SearchConfigurationExportSPWeb","ctl00_PlaceHolderMain_SearchAdministration_RptControls_SearchConfigurationImportSPSite","ctl00_PlaceHolderMain_SearchAdministration_RptControls_SearchConfigurationExportSPSite","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SiteNavigationSettings","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SEOSettings","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_AuditSettings","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_Portal","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_PolicyTemplate","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SiteCollectionAppPrincipals","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SiteCacheProfiles","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_ObjectCacheSettings","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_HubUrlLinks","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SiteCacheSettings","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_VariationSettings","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_VariationLabels","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_TranslatableColumnsPage","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_PublishedLinks","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_ManageSiteHelpRendering","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_HtmlFieldSecurity","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_HealthCheck","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_Upgrade","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_ManageResultTypes","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_MetadataPropertiesSiteColl","ctl00_PlaceHolderMain_SiteAdministration_RptControls_CatalogSources","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SearchConfigurationImportSPSite","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SearchConfigurationExportSPSite"],r=["ctl00_PlaceHolderMain_Galleries_RptControls_ManageField","ctl00_PlaceHolderMain_Galleries_RptControls_ManageCType","ctl00_PlaceHolderMain_SiteAdministration_RptControls_TermStoreManagement","ctl00_PlaceHolderMain_ReportServerSettingsLinks_RptControls_ReportServerSchedules","ctl00_PlaceHolderMain_ReportServerSettingsLinks_RptControls_ReportServerSiteLevelSettings","ctl00_PlaceHolderMain_SearchAdministration_RptControls_ManageResultSourcesSite","ctl00_PlaceHolderMain_SearchAdministration_RptControls_ManageResultTypes","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_DeletedItems","ctl00_PlaceHolderMain_SearchAdministration_RptControls_ManageQueryRulesSite2","ctl00_PlaceHolderMain_SearchAdministration_RptControls_NoCrawlSettingsPage","ctl00_PlaceHolderMain_SiteCollectionAdmin_RptControls_SharePointDesignerSettings"],o=["SiteColumns","SiteContentTypes","TermStoreManagement","ManageSharedSchedules","ReportingServicesSiteSettings","SearchResultSources","SearchResultTypes","RecycleBin","QueryRules","SearchableColumns","SPDesignerSettings"],l=function(e){t("#"+e).parent(".ms-linksection-listItem").remove()},c=function(e,i){t("#"+e).parent(".ms-linksection-listItem").append('*  <a style="font-size:10px;" href="'+a+i+'">( Work with EPT )</a>')};n["private"].daf=function(){var e=n.url.href+"";if(e.has("_layouts/15/settings.aspx")&&!n.isTrue(n.url.qs.eptenable)){s.forEach(l);for(var i=0,a=r.length;i<a;i++)c(r[i],o[i]);t(".ms-siteSettings-root .ms-linksection-textCell").css("width","350px")}e.has("_layouts/15/prjsetng.aspx")&&!n.isTrue(n.url.qs.eptenable)&&(t("#ctl00_PlaceHolderMain_logoSection_ctl03_tablerow3").css("visibility","hidden"),t("#ctl00_PlaceHolderMain_logoSection_ctl03_tablerow1").css("visibility","hidden"))},n.onload("ept.private.daf")}(jQuery,window,document,ept),!function t(e,i,n){function a(r,o){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){var i=e[r][1][t];return a(i?i:t)},d,d.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(t,e,i){e.exports={VERSION:"1.0.0",DEV_ID:"i5iSjo",VERSION_PARAM:"&_av",USAGE_PARAM:"&_au",NULL_DIMENSION:"(not set)"}},{}],2:[function(t,e,i){function n(){console.error("Requiring the `autotrack` plugin no longer requires all sub-plugins be default. See https://goo.gl/sZ2WrW for details.")}var a=t("../provide");a("autotrack",n)},{"../provide":12}],3:[function(t,e,i){function n(t,e){l.track(t,l.plugins.CLEAN_URL_TRACKER),this.opts=a({stripQuery:!1,queryDimensionIndex:null,indexFilename:null,trailingSlash:null},e),this.tracker=t,this.overrideTrackerBuildHitTask()}var a=t("object-assign"),s=t("dom-utils/lib/parse-url"),r=t("../constants"),o=t("../provide"),l=t("../usage");n.prototype.cleanUrlTask=function(t){var e=t.get("location"),i=t.get("page"),n=s(i||e),a=n.pathname,o=a;if(this.opts.indexFilename){var l=o.split("/");this.opts.indexFilename==l[l.length-1]&&(l[l.length-1]="",o=l.join("/"))}if("remove"==this.opts.trailingSlash)o=o.replace(/\/+$/,"");else if("add"==this.opts.trailingSlash){var c=/\.\w+$/.test(o);c||"/"==o.substr(-1)||(o+="/")}this.opts.stripQuery&&this.opts.queryDimensionIndex&&t.set("dimension"+this.opts.queryDimensionIndex,n.query||r.NULL_DIMENSION),t.set("page",o+(this.opts.stripQuery?"":n.search))},n.prototype.overrideTrackerBuildHitTask=function(){this.originalTrackerBuildHitTask=this.tracker.get("buildHitTask"),this.tracker.set("buildHitTask",function(t){this.cleanUrlTask(t),this.originalTrackerBuildHitTask(t)}.bind(this))},n.prototype.remove=function(){this.tracker.set("sendHitTask",this.originalTrackerSendHitTask)},o("cleanUrlTracker",n)},{"../constants":1,"../provide":12,"../usage":13,"dom-utils/lib/parse-url":22,"object-assign":23}],4:[function(t,e,i){function n(t,e){if(o.track(t,o.plugins.EVENT_TRACKER),window.addEventListener){this.opts=a({events:["click"],fieldsObj:{},attributePrefix:"ga-",hitFilter:null},e),this.tracker=t,this.handleEvents=this.handleEvents.bind(this);var i="["+this.opts.attributePrefix+"on]";this.delegates={},this.opts.events.forEach(function(t){this.delegates[t]=s(document,t,i,this.handleEvents,{deep:!0,useCapture:!0})}.bind(this))}}var a=t("object-assign"),s=t("dom-utils/lib/delegate"),r=t("../provide"),o=t("../usage"),l=t("../utilities").createFieldsObj,c=t("../utilities").getAttributeFields;n.prototype.handleEvents=function(t,e){var i=this.opts.attributePrefix;if(t.type==e.getAttribute(i+"on")){var n={transport:"beacon"},s=c(e,i),r=a({},this.opts.fieldsObj,s),o=s.hitType||"event";this.tracker.send(o,l(n,r,this.tracker,this.opts.hitFilter,e))}},n.prototype.remove=function(){Object.keys(this.delegates).forEach(function(t){this.delegates[t].destroy()}.bind(this))},r("eventTracker",n)},{"../provide":12,"../usage":13,"../utilities":14,"dom-utils/lib/delegate":18,"object-assign":23}],5:[function(t,e,i){function n(t,e){if(o.track(t,o.plugins.IMPRESSION_TRACKER),window.IntersectionObserver&&window.MutationObserver){this.opts=s({elements:[],rootMargin:"0px",fieldsObj:{},attributePrefix:"ga-",hitFilter:null},e),this.tracker=t,this.handleDomMutations=this.handleDomMutations.bind(this),this.walkNodeTree=this.walkNodeTree.bind(this),this.handleIntersectionChanges=this.handleIntersectionChanges.bind(this),this.startObserving=this.startObserving.bind(this),this.observeElement=this.observeElement.bind(this),this.handleDomElementRemoved=this.handleDomElementRemoved.bind(this);var i=this.deriveDataFromConfigOptions();this.items=i.items,this.elementMap=i.elementMap,this.threshold=i.threshold,this.intersectionObserver=this.initIntersectionObserver(),this.mutationObserver=this.initMutationObserver(),c(this.startObserving)}}function a(t,e){if(0===t){var i=e.intersectionRect;return i.top>0||i.bottom>0||i.left>0||i.right>0}return e.intersectionRatio>=t}var s=t("object-assign"),r=t("../provide"),o=t("../usage"),l=t("../utilities").createFieldsObj,c=t("../utilities").domReady,d=t("../utilities").getAttributeFields;n.prototype.deriveDataFromConfigOptions=function(){var t=[],e=[],i={};return this.opts.elements.forEach(function(n){"string"==typeof n&&(n={id:n}),t.push(n=s({threshold:0,trackFirstImpressionOnly:!0},n)),i[n.id]=null,e.push(n.threshold)}),{items:t,elementMap:i,threshold:e}},n.prototype.initMutationObserver=function(){return new MutationObserver(this.handleDomMutations)},n.prototype.initIntersectionObserver=function(){return new IntersectionObserver(this.handleIntersectionChanges,{rootMargin:this.opts.rootMargin,threshold:this.threshold})},n.prototype.startObserving=function(){Object.keys(this.elementMap).forEach(this.observeElement),this.mutationObserver.observe(document.body,{childList:!0,subtree:!0}),requestAnimationFrame(function(){})},n.prototype.observeElement=function(t){var e=this.elementMap[t]||(this.elementMap[t]=document.getElementById(t));e&&this.intersectionObserver.observe(e)},n.prototype.handleDomMutations=function(t){for(var e,i=0;e=t[i];i++){for(var n,a=0;n=e.removedNodes[a];a++)this.walkNodeTree(n,this.handleDomElementRemoved);for(var s,r=0;s=e.addedNodes[r];r++)this.walkNodeTree(s,this.observeElement)}},n.prototype.walkNodeTree=function(t,e){1==t.nodeType&&t.id in this.elementMap&&e(t.id);for(var i,n=0;i=t.childNodes[n];n++)this.walkNodeTree(i,e)},n.prototype.handleIntersectionChanges=function(t){for(var e,i=0;e=t[i];i++)for(var n,s=0;n=this.items[s];s++)e.target.id===n.id&&a(n.threshold,e)&&(this.handleImpression(n.id),n.trackFirstImpressionOnly&&(this.items.splice(s,1),s--,this.possiblyUnobserveElement(n.id)));0===this.items.length&&this.remove()},n.prototype.handleImpression=function(t){var e=document.getElementById(t),i={transport:"beacon",eventCategory:"Viewport",eventAction:"impression",eventLabel:t},n=s({},this.opts.fieldsObj,d(e,this.opts.attributePrefix));this.tracker.send("event",l(i,n,this.tracker,this.opts.hitFilter,e))},n.prototype.possiblyUnobserveElement=function(t){this.itemsIncludesId(t)||(this.intersectionObserver.unobserve(this.elementMap[t]),delete this.elementMap[t])},n.prototype.handleDomElementRemoved=function(t){this.intersectionObserver.unobserve(this.elementMap[t]),this.elementMap[t]=null},n.prototype.itemsIncludesId=function(t){return this.items.some(function(e){return t==e.id})},n.prototype.remove=function(){this.mutationObserver.disconnect(),this.intersectionObserver.disconnect()},r("impressionTracker",n)},{"../provide":12,"../usage":13,"../utilities":14,"object-assign":23}],6:[function(t,e,i){function n(t,e){c.track(t,c.plugins.MEDIA_QUERY_TRACKER),window.matchMedia&&(this.opts=s({definitions:null,changeTemplate:this.changeTemplate,changeTimeout:1e3,fieldsObj:{},hitFilter:null},e),h(this.opts.definitions)&&(this.opts.definitions=u(this.opts.definitions),this.tracker=t,this.changeListeners=[],this.processMediaQueries()))}function a(t){return p[t]?p[t]:(p[t]=window.matchMedia(t),p[t])}var s=t("object-assign"),r=t("debounce"),o=t("../constants"),l=t("../provide"),c=t("../usage"),d=t("../utilities").createFieldsObj,h=t("../utilities").isObject,u=t("../utilities").toArray,p={};n.prototype.processMediaQueries=function(){this.opts.definitions.forEach(function(t){if(t.name&&t.dimensionIndex){var e=this.getMatchName(t);this.tracker.set("dimension"+t.dimensionIndex,e),this.addChangeListeners(t)}}.bind(this))},n.prototype.getMatchName=function(t){var e;return t.items.forEach(function(t){a(t.media).matches&&(e=t)}),e?e.name:o.NULL_DIMENSION},n.prototype.addChangeListeners=function(t){t.items.forEach(function(e){var i=a(e.media),n=r(function(){this.handleChanges(t)}.bind(this),this.opts.changeTimeout);i.addListener(n),this.changeListeners.push({mql:i,fn:n})}.bind(this))},n.prototype.handleChanges=function(t){var e=this.getMatchName(t),i=this.tracker.get("dimension"+t.dimensionIndex);if(e!==i){this.tracker.set("dimension"+t.dimensionIndex,e);var n={eventCategory:t.name,eventAction:"change",eventLabel:this.opts.changeTemplate(i,e)};this.tracker.send("event",d(n,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))}},n.prototype.remove=function(){for(var t,e=0;t=this.changeListeners[e];e++)t.mql.removeListener(t.fn)},n.prototype.changeTemplate=function(t,e){return t+" => "+e},l("mediaQueryTracker",n)},{"../constants":1,"../provide":12,"../usage":13,"../utilities":14,debounce:16,"object-assign":23}],7:[function(t,e,i){function n(t,e){l.track(t,l.plugins.OUTBOUND_FORM_TRACKER),window.addEventListener&&(this.opts=a({formSelector:"form",shouldTrackOutboundForm:this.shouldTrackOutboundForm,fieldsObj:{},attributePrefix:"ga-",hitFilter:null},e),this.tracker=t,this.delegate=s(document,"submit","form",this.handleFormSubmits.bind(this),{deep:!0,useCapture:!0}))}var a=t("object-assign"),s=t("dom-utils/lib/delegate"),r=t("dom-utils/lib/parse-url"),o=t("../provide"),l=t("../usage"),c=t("../utilities").createFieldsObj,d=t("../utilities").getAttributeFields,h=t("../utilities").withTimeout;n.prototype.handleFormSubmits=function(t,e){var i=r(e.action).href,n={transport:"beacon",eventCategory:"Outbound Form",eventAction:"submit",eventLabel:i};if(this.opts.shouldTrackOutboundForm(e,r)){navigator.sendBeacon||(t.preventDefault(),n.hitCallback=h(function(){e.submit()}));var s=a({},this.opts.fieldsObj,d(e,this.opts.attributePrefix));this.tracker.send("event",c(n,s,this.tracker,this.opts.hitFilter,e))}},n.prototype.shouldTrackOutboundForm=function(t,e){var i=e(t.action);return i.hostname!=location.hostname&&"http"==i.protocol.slice(0,4)},n.prototype.remove=function(){this.delegate.destroy()},o("outboundFormTracker",n)},{"../provide":12,"../usage":13,"../utilities":14,"dom-utils/lib/delegate":18,"dom-utils/lib/parse-url":22,"object-assign":23}],8:[function(t,e,i){function n(t,e){l.track(t,l.plugins.OUTBOUND_LINK_TRACKER),window.addEventListener&&(this.opts=a({events:["click"],linkSelector:"a",shouldTrackOutboundLink:this.shouldTrackOutboundLink,fieldsObj:{},attributePrefix:"ga-",hitFilter:null},e),this.tracker=t,this.handleLinkInteractions=this.handleLinkInteractions.bind(this),this.delegates={},this.opts.events.forEach(function(t){this.delegates[t]=s(document,t,this.opts.linkSelector,this.handleLinkInteractions,{deep:!0,useCapture:!0})}.bind(this)))}var a=t("object-assign"),s=t("dom-utils/lib/delegate"),r=t("dom-utils/lib/parse-url"),o=t("../provide"),l=t("../usage"),c=t("../utilities").createFieldsObj,d=t("../utilities").getAttributeFields;n.prototype.handleLinkInteractions=function(t,e){if(this.opts.shouldTrackOutboundLink(e,r)){navigator.sendBeacon||(e.target="_blank");var i={transport:"beacon",eventCategory:"Outbound Link",eventAction:t.type,eventLabel:e.href},n=a({},this.opts.fieldsObj,d(e,this.opts.attributePrefix));this.tracker.send("event",c(i,n,this.tracker,this.opts.hitFilter,e))}},n.prototype.shouldTrackOutboundLink=function(t,e){var i=e(t.href);return i.hostname!=location.hostname&&"http"==i.protocol.slice(0,4)},n.prototype.remove=function(){Object.keys(this.delegates).forEach(function(t){this.delegates[t].destroy()}.bind(this))},o("outboundLinkTracker",n)},{"../provide":12,"../usage":13,"../utilities":14,"dom-utils/lib/delegate":18,"dom-utils/lib/parse-url":22,"object-assign":23}],9:[function(t,e,i){function n(t,e){r.track(t,r.plugins.PAGE_VISIBILITY_TRACKER),window.addEventListener&&(this.opts=a({sessionTimeout:c,changeTemplate:this.changeTemplate,hiddenMetricIndex:null,visibleMetricIndex:null,fieldsObj:{},hitFilter:null},e),this.tracker=t,this.visibilityState=document.visibilityState,this.lastVisibilityChangeTime=+new Date,this.handleVisibilityStateChange=this.handleVisibilityStateChange.bind(this),this.overrideTrackerSendMethod(),this.overrideTrackerSendHitTask(),document.addEventListener("visibilitychange",this.handleVisibilityStateChange))}var a=t("object-assign"),s=t("../provide"),r=t("../usage"),o=t("../utilities").createFieldsObj,l=t("../utilities").isObject,c=30;n.prototype.handleVisibilityStateChange=function(){var t;if(this.prevVisibilityState=this.visibilityState,this.visibilityState=document.visibilityState,this.sessionHasTimedOut()){if("hidden"==this.visibilityState)return;"visible"==this.visibilityState&&(t={transport:"beacon"},this.tracker.send("pageview",o(t,this.opts.fieldsObj,this.tracker,this.opts.hitFilter)))}else{var e=Math.round((new Date-this.lastVisibilityChangeTime)/1e3)||1;t={transport:"beacon",eventCategory:"Page Visibility",eventAction:"change",eventLabel:this.opts.changeTemplate(this.prevVisibilityState,this.visibilityState),eventValue:e},"hidden"==this.visibilityState&&(t.nonInteraction=!0);var i=this.opts[this.prevVisibilityState+"MetricIndex"];i&&(t["metric"+i]=e),this.tracker.send("event",o(t,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))}this.lastVisibilityChangeTime=+new Date},n.prototype.sessionHasTimedOut=function(){var t=(new Date-this.lastHitTime)/6e4;return this.opts.sessionTimeout<t},n.prototype.overrideTrackerSendMethod=function(){this.originalTrackerSendMethod=this.tracker.send,this.tracker.send=function(){var t=Array.prototype.slice.call(arguments),e=t[0],i=l(e)?e.hitType:e,n="pageview"==i;if(!n&&this.sessionHasTimedOut()){var a={transport:"beacon"};this.originalTrackerSendMethod.call(this.tracker,"pageview",o(a,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))}this.originalTrackerSendMethod.apply(this.tracker,t)}.bind(this)},n.prototype.overrideTrackerSendHitTask=function(){this.originalTrackerSendHitTask=this.tracker.get("sendHitTask"),this.lastHitTime=+new Date,this.tracker.set("sendHitTask",function(t){this.originalTrackerSendHitTask(t),this.lastHitTime=+new Date}.bind(this))},n.prototype.changeTemplate=function(t,e){return t+" => "+e},n.prototype.remove=function(){this.tracker.set("sendHitTask",this.originalTrackerSendHitTask),this.tracker.send=this.originalTrackerSendMethod,document.removeEventListener("visibilitychange",this.handleVisibilityStateChange)},s("pageVisibilityTracker",n)},{"../provide":12,"../usage":13,"../utilities":14,"object-assign":23}],10:[function(t,e,i){function n(t,e){r.track(t,r.plugins.SOCIAL_WIDGET_TRACKER),window.addEventListener&&(this.opts=a({fieldsObj:{},hitFilter:null},e),this.tracker=t,this.addWidgetListeners=this.addWidgetListeners.bind(this),this.addTwitterEventHandlers=this.addTwitterEventHandlers.bind(this),this.handleTweetEvents=this.handleTweetEvents.bind(this),this.handleFollowEvents=this.handleFollowEvents.bind(this),this.handleLikeEvents=this.handleLikeEvents.bind(this),this.handleUnlikeEvents=this.handleUnlikeEvents.bind(this),"complete"!=document.readyState?window.addEventListener("load",this.addWidgetListeners):this.addWidgetListeners())}var a=t("object-assign"),s=t("../provide"),r=t("../usage"),o=t("../utilities").createFieldsObj;n.prototype.addWidgetListeners=function(){window.FB&&this.addFacebookEventHandlers(),window.twttr&&this.addTwitterEventHandlers()},n.prototype.addTwitterEventHandlers=function(){try{twttr.ready(function(){twttr.events.bind("tweet",this.handleTweetEvents),twttr.events.bind("follow",this.handleFollowEvents)}.bind(this))}catch(t){}},n.prototype.removeTwitterEventHandlers=function(){try{twttr.ready(function(){twttr.events.unbind("tweet",this.handleTweetEvents),twttr.events.unbind("follow",this.handleFollowEvents)}.bind(this))}catch(t){}},n.prototype.addFacebookEventHandlers=function(){try{FB.Event.subscribe("edge.create",this.handleLikeEvents),FB.Event.subscribe("edge.remove",this.handleUnlikeEvents)}catch(t){}},n.prototype.removeFacebookEventHandlers=function(){try{FB.Event.unsubscribe("edge.create",this.handleLikeEvents),FB.Event.unsubscribe("edge.remove",this.handleUnlikeEvents)}catch(t){}},n.prototype.handleTweetEvents=function(t){if("tweet"==t.region){var e=t.data.url||t.target.getAttribute("data-url")||location.href,i={transport:"beacon",socialNetwork:"Twitter",socialAction:"tweet",socialTarget:e};this.tracker.send("social",o(i,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))}},n.prototype.handleFollowEvents=function(t){if("follow"==t.region){var e=t.data.screen_name||t.target.getAttribute("data-screen-name"),i={transport:"beacon",socialNetwork:"Twitter",socialAction:"follow",socialTarget:e};this.tracker.send("social",o(i,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))}},n.prototype.handleLikeEvents=function(t){var e={transport:"beacon",socialNetwork:"Facebook",socialAction:"like",socialTarget:t};this.tracker.send("social",o(e,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))},n.prototype.handleUnlikeEvents=function(t){var e={transport:"beacon",socialNetwork:"Facebook",socialAction:"unlike",socialTarget:t};this.tracker.send("social",o(e,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))},n.prototype.remove=function(){window.removeEventListener("load",this.addWidgetListeners),this.removeFacebookEventHandlers(),this.removeTwitterEventHandlers()},s("socialWidgetTracker",n)},{"../provide":12,"../usage":13,"../utilities":14,"object-assign":23}],11:[function(t,e,i){function n(t,e){o.track(t,o.plugins.URL_CHANGE_TRACKER),history.pushState&&window.addEventListener&&(this.opts=s({shouldTrackUrlChange:this.shouldTrackUrlChange,fieldsObj:{},hitFilter:null},e),this.tracker=t,this.path=a(),this.updateTrackerData=this.updateTrackerData.bind(this),this.originalPushState=history.pushState,history.pushState=function(t,e){c(t)&&e&&(t.title=e),this.originalPushState.apply(history,arguments),this.updateTrackerData()}.bind(this),this.originalReplaceState=history.replaceState,history.replaceState=function(t,e){c(t)&&e&&(t.title=e),this.originalReplaceState.apply(history,arguments),this.updateTrackerData(!1)}.bind(this),window.addEventListener("popstate",this.updateTrackerData))}function a(){return location.pathname+location.search}var s=t("object-assign"),r=t("../provide"),o=t("../usage"),l=t("../utilities").createFieldsObj,c=t("../utilities").isObject;n.prototype.updateTrackerData=function(t){t=t!==!1,setTimeout(function(){var e=this.path,i=a();if(e!=i&&this.opts.shouldTrackUrlChange.call(this,i,e)&&(this.path=i,this.tracker.set({page:i,title:c(history.state)&&history.state.title||document.title}),t)){var n={transport:"beacon"};this.tracker.send("pageview",l(n,this.opts.fieldsObj,this.tracker,this.opts.hitFilter))}}.bind(this),0)},n.prototype.shouldTrackUrlChange=function(t,e){return t&&e},n.prototype.remove=function(){window.removeEventListener("popstate",this.updateTrackerData),history.replaceState=this.originalReplaceState,history.pushState=this.originalPushState,this.tracker=null,this.opts=null,this.path=null,this.updateTrackerData=null,this.originalReplaceState=null,this.originalPushState=null},r("urlChangeTracker",n)},{"../provide":12,"../usage":13,"../utilities":14,"object-assign":23}],12:[function(t,e,i){var n=t("./constants"),a=t("./utilities");(window.gaDevIds=window.gaDevIds||[]).push(n.DEV_ID),e.exports=function(t,e){var i=window.GoogleAnalyticsObject||"ga";window[i]=window[i]||function(){(window[i].q=window[i].q||[]).push(arguments)},window[i]("provide",t,e),window.gaplugins=window.gaplugins||{},window.gaplugins[a.capitalize(t)]=e}},{"./constants":1,"./utilities":14}],13:[function(t,e,i){function n(t){return parseInt(t||"0",16).toString(2)}function a(t){return parseInt(t||"0",2).toString(16)}function s(t,e){if(t.length<e)for(var i=e-t.length;i;)t="0"+t,i--;return t}function r(t,e){return t.substr(0,e)+1+t.substr(e+1)}function o(t,e){var i=t.get(c.USAGE_PARAM),o=s(n(i),h);o=r(o,h-e),t.set(c.USAGE_PARAM,a(o))}function l(t){t.set(c.VERSION_PARAM,c.VERSION)}var c=t("./constants"),d={CLEAN_URL_TRACKER:1,EVENT_TRACKER:2,IMPRESSION_TRACKER:3,MEDIA_QUERY_TRACKER:4,OUTBOUND_FORM_TRACKER:5,OUTBOUND_LINK_TRACKER:6,PAGE_VISIBILITY_TRACKER:7,SOCIAL_WIDGET_TRACKER:8,URL_CHANGE_TRACKER:9},h=9;e.exports={track:function(t,e){l(t),o(t,e)},plugins:d}},{"./constants":1}],14:[function(t,e,i){var n=t("object-assign"),a=t("dom-utils/lib/get-attributes"),s={createFieldsObj:function(t,e,i,a,s){if("function"==typeof a){var r=i.get("buildHitTask");return{buildHitTask:function(i){i.set(t,null,!0),i.set(e,null,!0),a(i,s),r(i)}}}return n({},t,e)},getAttributeFields:function(t,e){var i=a(t),n={};return Object.keys(i).forEach(function(t){if(0===t.indexOf(e)&&t!=e+"on"){var a=i[t];"true"==a&&(a=!0),"false"==a&&(a=!1);var r=s.camelCase(t.slice(e.length));n[r]=a}}),n},domReady:function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):t()},withTimeout:function(t,e){var i=!1;return setTimeout(t,e||2e3),function(){i||(i=!0,t())}},camelCase:function(t){return t.replace(/[\-\_]+(\w?)/g,function(t,e){return e.toUpperCase()})},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},isObject:function(t){return"object"==typeof t&&null!==t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},toArray:function(t){return s.isArray(t)?t:[t]}};e.exports=s},{"dom-utils/lib/get-attributes":19,"object-assign":23}],15:[function(t,e,i){function n(){return(new Date).getTime()}e.exports=Date.now||n},{}],16:[function(t,e,i){var n=t("date-now");e.exports=function(t,e,i){function a(){var d=n()-l;d<e&&d>0?s=setTimeout(a,e-d):(s=null,i||(c=t.apply(o,r),s||(o=r=null)))}var s,r,o,l,c;return null==e&&(e=100),function(){o=this,r=arguments,l=n();var d=i&&!s;return s||(s=setTimeout(a,e)),d&&(c=t.apply(o,r),o=r=null),c}}},{"date-now":15}],17:[function(t,e,i){var n=t("./matches"),a=t("./parents");e.exports=function(t,e,i){if(t&&1==t.nodeType&&e)for(var s,r=(i?[t]:[]).concat(a(t)),o=0;s=r[o];o++)if(n(s,e))return s}},{"./matches":20,"./parents":21}],18:[function(t,e,i){var n=t("./closest"),a=t("./matches");e.exports=function(t,e,i,s,r){r=r||{};var o=function(t){if(r.deep&&"function"==typeof t.deepPath)for(var e,o=t.deepPath(),l=0;e=o[l];l++)1==e.nodeType&&a(e,i)&&(c=e);else var c=n(t.target,i,!0);c&&s.call(c,t,c)};return t.addEventListener(e,o,r.useCapture),{destroy:function(){t.removeEventListener(e,o,r.useCapture)}}}},{"./closest":17,"./matches":20}],19:[function(t,e,i){e.exports=function(t){var e={};if(!t||1!=t.nodeType)return e;var i=t.attributes;if(0===i.length)return{};for(var n,a=0;n=i[a];a++)e[n.name]=n.value;return e}},{}],20:[function(t,e,i){function n(t,e){if("string"!=typeof e)return!1;if(s)return s.call(t,e);for(var i,n=t.parentNode.querySelectorAll(e),a=0;i=n[a];a++)if(i==t)return!0;return!1}var a=window.Element.prototype,s=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;e.exports=function(t,e){if(t&&1==t.nodeType&&e){if("string"==typeof e||1==e.nodeType)return t==e||n(t,e);if("length"in e)for(var i,a=0;i=e[a];a++)if(t==i||n(t,i))return!0}return!1}},{}],21:[function(t,e,i){e.exports=function(t){for(var e=[];t&&t.parentNode&&1==t.parentNode.nodeType;)e.push(t=t.parentNode);return e}},{}],22:[function(t,e,i){var n="80",a="443",s=RegExp(":("+n+"|"+a+")$"),r=document.createElement("a"),o={};e.exports=function l(t){if(t=t&&"."!=t?t:location.href,o[t])return o[t];if(r.href=t,"."==t.charAt(0))return l(r.href);var e=r.protocol&&":"!=r.protocol?r.protocol:location.protocol,i=r.port==n||r.port==a?"":r.port;i="0"==i?"":i;var c=""==r.host?location.host:r.host,d=""==r.hostname?location.hostname:r.hostname;c=c.replace(s,"");var h=r.origin?r.origin:e+"//"+c,u="/"==r.pathname.charAt(0)?r.pathname:"/"+r.pathname;return o[t]={hash:r.hash,host:c,hostname:d,href:r.href,origin:h,pathname:u,port:i,protocol:e,search:r.search,fragment:r.hash.slice(1),path:u+r.search,
query:r.search.slice(1)}}},{}],23:[function(t,e,i){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(t){a[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(t){return!1}}var s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=a()?Object.assign:function(t,e){for(var i,a,o=n(t),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var c in i)s.call(i,c)&&(o[c]=i[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(i);for(var d=0;d<a.length;d++)r.call(i,a[d])&&(o[a[d]]=i[a[d]])}}return o}},{}],24:[function(t,e,i){t("./plugins/clean-url-tracker"),t("./plugins/event-tracker"),t("./plugins/impression-tracker"),t("./plugins/media-query-tracker"),t("./plugins/outbound-form-tracker"),t("./plugins/outbound-link-tracker"),t("./plugins/page-visibility-tracker"),t("./plugins/social-widget-tracker"),t("./plugins/url-change-tracker"),t("./plugins/autotrack")},{"./plugins/autotrack":2,"./plugins/clean-url-tracker":3,"./plugins/event-tracker":4,"./plugins/impression-tracker":5,"./plugins/media-query-tracker":6,"./plugins/outbound-form-tracker":7,"./plugins/outbound-link-tracker":8,"./plugins/page-visibility-tracker":9,"./plugins/social-widget-tracker":10,"./plugins/url-change-tracker":11}]},{},[24]),function(t,e,i,n,a,s,r){"use strict";t.GoogleAnalyticsObject=a,t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},t[a].l=1*new Date,s=e.createElement(i),r=e.getElementsByTagName(i)[0],s.async=1,s.src=n,r.parentNode.insertBefore(s,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),function(t,e,i){"use strict";e.analytics={},e.analytics.getTracker=function(){var t=window.location.hostname,e="";return t.indexOf("mymacys.net")>-1&&(e="UA-80987364-1"),t.indexOf("mybloomingdales.net")>-1&&(e="UA-81005425-1"),t.indexOf("macyspartners")>-1&&(e=""),t.indexOf("//test")>-1&&(e="UA-69984440-1"),t.indexOf("int.")>-1&&(e="UA-69984440-1"),t.indexOf("preprod.")>-1&&(e="UA-69984440-1"),e||"UA-69984440-1"},e.analytics.setName=function(){var t=window.location.hostname,e="";return t.indexOf("mymacys.net")>-1&&(e="MyMacys"),t.indexOf("mybloomingdales.net")>-1&&(e="MyBloomingdales"),t.indexOf("int.")>-1&&(e="Int"),t.indexOf("preprod.")>-1&&(e="PreProd"),e},e.analytics.send=function(t,e,n,a){return"function"==typeof i&&("object"==typeof t?(i("send",t),!0):void window.sendGAEvent(t,e,n,a||0))},e.analytics.read=function(n){if("function"==typeof i){var a,s=t(n),r=s.attr("data-ga-category")||!1,o=s.attr("data-ga-action")||!1,l=s.attr("data-ga-label")||!1,c=s.attr("data-ga-value")-0||0;if("Navigation"===r&&(a=o,o=l,l=a),!r||!o||!l)return e.log("GA - No values!"),!1;window.sendGAEvent(r,o,l,c)}},e.analytics.getUser=function(){var e=t("meta[Name='Employeeid']").attr("Content")+"";return e},e.analytics.getBU=function(){return t("meta[name=NavFOB]").attr("content")+""||""},e.analytics.init=function(){window.location.hostname.indexOf("macyspartners")===-1&&(t('a[href^="http"]').each(function(e,i){var n=t(i),a=window.location.hostname,s=n.attr("href"),r=n.text();s.indexOf(a)===-1&&n.attr({"data-ga-category":"ExternalLink","data-ga-action":s,"data-ga-label":r?r:"No text"})}),t('a[href$=".pdf"], a[href$=".doc"], a[href$=".docx"], a[href$=".xls"], a[href$=".xlsx"], a[href$=".ppt"], a[href$=".pptx"]').each(function(e,i){var n=t(i),a=n.attr("href"),s=n.text();n.attr({"data-ga-category":"Document","data-ga-action":a,"data-ga-label":s?s:"No text"})}),t(document).on("click.ga","[data-ga-category]",function(i){i.preventDefault();var n=t(i.target);e.analytics.read(i.target),n.off("click.ga").trigger("click")}))},e.onload("ept.analytics.init"),i("create",{trackingId:e.analytics.getTracker(),cookieDomain:"auto",userId:e.analytics.getUser()}),i("set",{dimension1:e.analytics.getUser(),dimension2:e.analytics.getBU()}),i("send","pageview")}(jQuery,ept,ga),function(){"use strict";window.sendGAEvent=function(t,e,i,n){ga("send","event",t,e,i,n)}}(),function(t,e,i,n){"use strict";n.getSPList=function(t,e,i){var n=t+"/_api/lists/getbytitle('"+e+"')/items";return n=n.replaceAll("//","/"),n+=i?"?"+i:"",this.ajax({url:n})},n.getSiteAndListFromURL=function(t){var e=[],i="",a="",s="";return s=t.toLowerCase(),s=s.split("?")[0],s=s.split("#")[0],s=s.slice(0,t.lastIndexOf(".")),i=s.slice(0,s.lastIndexOf("/lists/")),i=i.replace(n.url.protocol,"").replaceAll(n.url.host+"/",""),e[0]=i.replaceAll("//","/"),a=s.slice(s.lastIndexOf("/lists/"),s.length),a=a.slice(0,a.lastIndexOf("/")),a=a.replaceAll("//","/"),e[1]=a.replace("/lists/",""),e},n.ajax=function(e){var i=e.url||"false",n=e.timeout||15e3,a=e.datatype||"json",s=e.async||!0,r=e.data||"",o=e.type||"GET",l="json"===a.toLowerCase()?"application/json; charset=utf-8":"";return t.ajax({headers:{accept:"application/json; odata=verbose"},url:i,timeout:n,dataType:a,async:s,data:r,contentType:l,type:o}).promise()},n.loadJS=function(t,e){var n=i.createElement("script"),a=i.body;n.type="text/javascript",n.src=t,"function"==typeof e&&(n.onload=e()),a.appendChild(n)},n.loadCSS=function(t,e){var n=i.createElement("link"),a=i.head;n.type="text/css",n.media="all",n.rel="stylesheet",n.href=t,"function"==typeof e&&(n.onload=e()),a.appendChild(n)},n.store=function(t,e,i){return i=i||"","session"===i.toString().toLowerCase()?(sessionStorage.setItem(t,e),this):(localStorage.setItem(t,e),this)},n.retrieve=function(t){var e=localStorage.getItem(t);return e||(e=sessionStorage.getItem(t)),!!e&&e},n.setCookie=function(t,e,n){var a=new Date;a.setDate(a.getDate()+n),e=encodeURI(e)+(null===n?"":"; expires="+a.toUTCString()),i.cookie=t+"="+e},n.getCookie=function(t){var e=0,n="",a="",s=i.cookie.split(";"),r=s.length;for(e=r;e--;)if(n=s[e].substr(0,s[e].indexOf("=")),a=s[e].substr(s[e].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n===t)return decodeURIComponent(a)}}(jQuery,window,document,ept),function(t,e,i,n){"use strict";var a=new Date;n.date={today:a,day:a.getDate().toString().pad(2),month:(a.getMonth()+1).toString().pad(2),year:a.getFullYear()+"",hours:a.getHours().toString().pad(2),minutes:a.getMinutes().toString().pad(2),seconds:a.getSeconds().toString().pad(2),now:a.getTime(),oneweek:6048e5,twodays:1728e5},n.spdatetime=function(t){var e="";return t=new Date(t),e+="datetime'"+t.getFullYear().toString()+"-"+(t.getMonth()+1).toString().pad(2)+"-"+t.getDate().toString().pad(2),e+="T"+t.getHours().toString().pad(2)+":"+t.getMinutes(2).toString().pad(2)+":"+t.getSeconds().toString().pad(2)+"'"},n.prettyDate=function(t,e){var i,n=new Date(t||""),s=new Date(e||a),r=(s.getTime()-n.getTime())/1e3,o=Math.floor(r/86400);if(!(isNaN(o)||o<0||o>=31))return i=0===o&&(r<60&&"just now"||r<120&&"1 minute ago"||r<3600&&Math.floor(r/60)+" minutes ago"||r<7200&&"1 hour ago"||r<86400&&Math.floor(r/3600)+" hours ago")||1===o&&"Yesterday"||o<7&&o+" days ago"||o<31&&Math.ceil(o/7)+" weeks ago"},a=null}(jQuery,window,document,ept),function(t,e,i,n){"use strict";t.pluck=function(e,i){return t.map(e,function(t){return t[i]})},t.fn.hasAttr=function(t){for(var e=0,i=this.length;e<i;e++)if(this.attr(t)!==n)return!0;return!1}}(jQuery,window,document),function(t,e,i,n){"use strict";n.keys={CANCEL:3,HELP:6,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,OPTION:18,PAUSE:19,CAPSLOCK:20,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFTARROW:37,UPARROW:38,RIGHTARROW:39,DOWNARROW:40,PRINTSCREEN:44,PRINT:44,INSERT:45,INS:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,COLON:58,SEMICOLON:59,LESSTHAN:60,EQUAlS:61,GREATERTHAN:62,QUESTIONMARK:63,AT:64,WIN:91,WINDOWS:91,CONTEXTMENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,NUMPADMULTIPLY:106,NUMPADADD:107,NUMPADSUBTRACT:109,NUMPADDECIMAL:110,NUMPADDIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUMLOCK:144,SCROLLLOCK:145,CIRCUMFLEX:160,CARET:160,EXCLAMATION:161,DOUBLEQUOTE:162,HASH:163,DOLLAR:164,PERCENT:165,ANDPERSAND:166,AND:166,UNDERSCORE:167,OPENPAREN:168,CLOSEPAREN:169,ASTERISK:170,PLUS:171,PIPE:172,HYPHEN:173,MINUS:173,OPENCURLY:174,CLOSECURLY:175,TILDE:176,VOLUMEMUTE:181,VOLUMEDOWN:182,VOLUMEUP:183,COMMA:188,PERIOD:189,SLASH:190,BACKQUOTE:191,OPENBRACKET:219,BACKSLASH:220,CLOSEBRACKET:221,QUOTE:222,META:224,COMMAND:224},n.compareKey=function(t,e){return n.isTrue(n.getKey(t)===e)},n.getKey=function(t){return t.keyCode?t.keyCode:t.which}}(jQuery,window,document,ept),function(t,e,i,n){"use strict";function a(e){var i=c(e);return t.ajax({url:i,method:"GET",headers:{Accept:"application/json; odata=verbose"}})}function s(e){var i=c(e),n={__metadata:{type:l(e.list)}},a=t.extend(!0,{},n,e.data);return t.ajax({url:i,type:"POST",contentType:"application/json;odata=verbose",data:JSON.stringify(a),headers:{Accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()}})}function r(e){return t.ajax({url:e.__metadata.uri,type:"POST",contentType:"application/json;odata=verbose",data:JSON.stringify(e),headers:{Accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val(),"X-HTTP-Method":"MERGE","If-Match":e.__metadata.etag}})}function o(e){return t.ajax({url:e.__metadata.uri.replace("/deleteObject()","")+"/recycle()",type:"POST",headers:{Accept:"application/json;odata=verbose","X-Http-Method":"DELETE","X-RequestDigest":t("#__REQUESTDIGEST").val(),"If-Match":e.__metadata.etag}})}function l(t){return"SP.Data."+t.charAt(0).toUpperCase()+t.split(" ").join("").slice(1)+"ListItem"}function c(t){var e=h.replace("{{listName}}",t.list);return e=t.site?t.site+e:"",e=d(e,"//","/"),e+=t.options?e.indexOf("?")>-1?"&"+t.options:"?"+t.options:""}function d(t,e,i){for(;t.indexOf(e)>-1;)t=t.replace(e,i);return t}var h="/_api/lists/getbytitle('{{listName}}')";n.list={get:a,add:s,update:r,"delete":o}}(jQuery,window,document,ept),function(t,e,i,n){"use strict";function a(e){var i=u(e);return t.ajax({url:i,method:"GET",headers:{Accept:"application/json; odata=verbose"}})}function s(e){var i=u(e);return i+=i.indexOf("?")>-1?"&$filter=Id eq "+e.data.Id:"?$filter=Id eq "+e.data.Id,t.ajax({url:i,method:"GET",headers:{Accept:"application/json; odata=verbose"}})}function r(e){var i=u(e),n={__metadata:{type:h(e.list)}},a=t.extend(!0,{},n,e.data);return t.ajax({url:i,type:"POST",contentType:"application/json;odata=verbose",data:JSON.stringify(a),headers:{Accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val()}})}function o(e){return t.ajax({url:e.__metadata.uri,type:"POST",contentType:"application/json;odata=verbose",data:JSON.stringify(e),headers:{Accept:"application/json;odata=verbose","X-RequestDigest":t("#__REQUESTDIGEST").val(),"X-HTTP-Method":"MERGE","If-Match":e.__metadata.etag}})}function l(e){var i=t.Deferred(function(i){t.when(s(e)).done(function(n){if(n.d.results.length){var a=n.d.results[0];e.data.__metadata=a.__metadata,t.when(o(e.data)).done(function(t){i.resolve(t)}).fail(function(){i.reject(n)})}else i.reject(n)}).fail(function(t){i.reject(t)})});return i}function c(e){var i=e.__metadata.uri;return i=e.recyce?i.replace("/deleteObject()","")+"/recycle()":i,t.ajax({url:i,type:"POST",headers:{Accept:"application/json;odata=verbose","X-Http-Method":"DELETE","X-RequestDigest":t("#__REQUESTDIGEST").val(),"If-Match":e.__metadata.etag}})}function d(e){var i=t.Deferred(function(i){t.when(s(e)).done(function(n){n.d.results.length?(n=t.extend(!0,{},n.d.results[0],e.data),t.when(c(n)).done(function(t){i.resolve(t)}).fail(function(){i.reject(n)})):i.reject(n)}).fail(function(t){i.reject(t)})});return i}function h(t){return"SP.Data."+t.charAt(0).toUpperCase()+t.split(" ").join("").slice(1)+"ListItem"}function u(t){var e=m.replace("{{listName}}",t.list);return e=t.site?t.site+e:"",e=p(e,"//","/"),e+=t.options?e.indexOf("?")>-1?"&"+t.options:"?"+t.options:""}function p(t,e,i){for(;t.indexOf(e)>-1;)t=t.replace(e,i);return t}var m="/_api/lists/getbytitle('{{listName}}')/items";n.listItem={get:a,getById:s,add:r,update:l,"delete":d}}(jQuery,window,document,ept),function(t,e,i,n){"use strict";n.plugins={},n.plugins.init=function(){n.log("ept.plugins.init"),n.isEditMode()||n.plugins.tabs()},n.plugins.tabs=function(){n.log("ept.plugins.tabs");var e=t(".macys-tab-webpart");e.length&&t.getScript("/_layouts/15/MyMacys/scripts/ept.tabs.min.js",function(){e.macysTabs()})},n.onLoad("ept.plugins.init")}(jQuery,window,document,ept),function(t,e){"use strict";function i(e,i,n,a,s){n=t("#"+n),e=t("#"+e),i="";var r=n.text(),o=e.find(".groupHide");o.length?o.toggleClass("groupHide").toggleClass("js-groupShow"):e.find(".js-groupShow").toggleClass("js-groupShow").toggleClass("groupHide"),r.indexOf("Hide")>-1?n.html('<img src="/_layouts/images/downarrow.png" align="absmiddle"/>'+s):n.html('<img src="/_layouts/images/uparrow.png" align="absmiddle"/> '+a)}e.ShowHidePrivacyRow=i}(jQuery,window),function(t,e,i){"use strict";function n(t,e){return!r(t)&&(d[t]=e,e)}function a(t,e){var i=0===t.indexOf("#")?s(t):d[t]||!1;return e&&o(i,e)||i}function s(t){return t=t.replace("#","")+"",!(!e||!t)&&e.getElementById(t).innerText}function r(t){return!!d[t]}function o(t,e){var i,n="";if(e.constructor===Array)for(i=e.length;i--;)n+=c(t,e[i]);else n=c(t,e);return n}function l(t){var e=t.split("x");h=e[0]||"{{",u=e[1]||"}}"}function c(t,e){return t?t.replace(/{{([a-z_]+[a-z0-9_]*)}}/gi,function(t,i){return 0===e[i]&&(e[i]=e[i]+""),e[i]?e[i]:h+i+u}):""}var d=[],h="{{",u="}}";i.template={get:a,set:n,has:r,use:l}}(window,document,ept),function(t,e,i,n){"use strict";n.isTrue=function(t){return"string"==typeof t&&(t=t.toLowerCase()),"false"!==t&&Boolean(t)},n.strictEqual=function(t,e){return t===e},n.assert=function(t,e,i,a){return n.strictEqual(e,i)?t+":"+a:t+" failed!"}}(jQuery,window,document,ept),function(t){"use strict";var e,i;e=function(){var i,n;return this instanceof e?(this.data={},this.badge="",this.set=t,this.column=t,this.row=t,this.icon=t,this.size=t,this.color=t,this.url=t,this.target=t,this.title=t,this.description=t,this.id=t,this.type=t,this.el=t,this.parent=t,void 0):(i=new e,n=e.apply(i,arguments),n===t?i:n)},e.prototype.init=function(){if("string"==typeof this.data)try{this.data=JSON.parse(this.data)}catch(e){throw new Error("Tile Error: Unable to parse json data.")}if(this.url=this.url?this.url:this.data&&this.data.url?this.data.url:t,this.id=this.id?this.id:this.data&&this.data.id?this.data.id:t,this.title=this.title?this.title:this.data&&this.data.title?this.data.title:t,this.set=this.set?this.set+"":this.data&&this.data.set?this.data.set+"":"1",this.column=this.column?this.column:this.data&&this.data.column?this.data.column:"A",this.row=this.row?this.row:this.data&&this.data.row?this.data.row:1,this.icon=this.icon?this.icon:this.data&&this.data.icon?this.data.icon:"None",this.badge=this.badge?this.badge:this.data&&this.data.badge?this.data.badge:0,this.size=this.size?this.size:this.data&&this.data.size?this.data.size:"2x2",this.color=this.color?this.color:this.data&&this.data.color?this.data.color:"Gray",this.target=this.target?this.target:this.data&&this.data.target?this.data.target:"",this.type=this.type?this.type:this.data&&this.data.type?this.data.type:"standard",this.description=this.description?this.description:this.data&&this.data.description?this.data.description:"",this.tiledescription=this.tiledescription?this.tiledescription:this.data&&this.data.tiledescription?this.data.tiledescription:"",this.hasDescription=this.hasDescription?this.hasDescription:this.data&&this.data.hasDescription?this.data.hasDescription:"",this.parent=this.parent?this.parent:this.data&&this.data.parent?this.data.parent:t,!this.set)throw new Error("Tile Error: Tileset has not been defined.");if(!this.url)throw new Error("Tile Error: URL has not been defined.");if(!this.title)throw new Error("Tile Error: Title has not been defined.");if(this.id=this.id||this["private"].uniqueName(this),!this.id)throw new Error("Tile Error: ID has not been defined.");this.hasBadge=this.badge?"macys-tile-has-badge":"macys-tile-no-badge",this.grouptileclass="group"===this.type?"macys-tile-popup":"",this.tilelocation=this.column+this.row+"",this.hasDescription="1x1"===this.size||"2x1"===this.size||"1x2"===this.size?"macys-tile-no-desc":this.hasDescription?this.hasDescription:"macys-tile-no-desc"},e.prototype.add=function(){var t="";return this.init(),this.data=this.templates.toJson(this),t=this["private"].build(this),this.parent.appendChild(this["private"].convertToElement(t)),this.el=this.id?document.getElementById(this.id):this.parent.querySelector("[data-location="+this.column+this.row+"]"),this},e.prototype.remove=function(){var t=document.getElementById(this.id);t.parentNode.removeChild(t)},e.prototype.update=function(){this.remove(),this.add()},e.prototype.get=function(t){this.data=document.getElementById(t).getAttribute("data-tile"),this.init()},e.prototype["private"]={},e.prototype["private"].build=function(t){var e=t["private"].templates.base(),i=t.type.toLowerCase();"weather"!==i&&"stocks"!==i||(t.type="standard"),e=t["private"].replaceAll(e,"{{html}}",t.templates[t.type]());for(var n in t)t.hasOwnProperty(n)&&(e=t["private"].replaceAll(e,"{{"+n+"}}",t[n]));return e},e.prototype["private"].convertToElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild},e.prototype["private"].uniqueName=function(t){var e="tile-"+t.set.toString()+"-"+t.title.toString();return e.toLowerCase().replace(/\s+/g,"")},e.prototype["private"].replaceAll=function(t,e,i){var n=new RegExp(e,"g");return t.replace(n,i)},e.prototype["private"].templates={},e.prototype["private"].templates.base=function(){return'<div id="{{id}}" data-tile-set="{{set}}" data-tile-type="{{type}}" data-location="{{tilelocation}}" class="macys-tile macys-tile-size-{{size}} macys-tile-color-{{color}} macys-tile-row{{row}} macys-tile-col{{column}} animated fadeIn" title="{{tiledescription}}" data-tile=\'{{data}}\' ><a class="{{grouptileclass}} {{hasDescription}} {{hasBadge}}" href="{{url}}" target="{{target}}"  title="{{tiledescription}}"><div class="macys-tile-html">{{html}}</div></a></div>'},e.prototype.templates={},e.prototype.templates.standard=function(){return'<div class="macys-tile-front"><div class="macys-tile-badge">{{badge}}</div><div class="macys-tile-main-icon macys-tile-icon macys-tile-icon-{{icon}}"></div><div class="macys-tile-BottomCenter macys-tile-title">{{title}}</div></div><div class="macys-tile-back"><div class="macys-tile-back-header">{{title}}</div><div class="macys-tile-back-desc">{{description}}</div></div>'},e.prototype.templates.group=function(){return'<div class="macys-tile-group macys-tile-no-desc macys-tile-front"><div class="macys-tile-icon macys-tile-TopLeft macys-tile-icon-waffle"></div><div class="macys-tile-badge">{{badge}}</div><div class="macys-tile-main-icon macys-tile-icon macys-tile-icon-{{icon}}"></div><div class="macys-tile-BottomCenter macys-tile-title">{{title}}</div></div><div class="macys-tile-back"><div class="macys-tile-back-header">{{title}}</div><div class="macys-tile-back-desc">{{description}}</div></div>'},e.prototype.templates.weather=function(){return'<div class="macys-tile-weather macys-tile-no-desc"><div class="macys-tile-weather-icon"><img src="{{image}}"/></div><div class="macys-tile-weather-temperature">{{temperature}}</div><div class="macys-tile-weather-high">{{lowtemp}} &nbsp;-&nbsp; {{hightemp}}</div><div class="macys-tile-BottomCenter macys-tile-title"><div class="macys-tile-header">{{title}}</div></div></div>'},e.prototype.templates.stocks=function(){return'<div class="macys-tile-stocks macys-tile-no-desc"><div class="macys-tile-stocks-date">{{date}}</div><div class="macys-tile-stocks-trend macys-tile-stocks-trend-{{trend}} macys-icon-{{trend}}"></div><div class="macys-tile-stocks-value">{{value}}</div><div class="macys-tile-stocks-change">{{change}}&nbsp;<span class="macys-tile-stocks-percentage">{{percent}}</span><span class="macys-linktile-super"><super>*</super></span></div><div class="macys-tile-BottomCenter macys-tile-title"><div class="macys-tile-header">{{title}}</div></div></div>'},e.prototype.templates.toJson=function(t){var e="{";for(var i in t)if(t.hasOwnProperty(i))switch(i){case"el":e+='"'+i+'" : "'+t.id+'",';break;case"parent":e+='"'+i+'" : "'+t[i].id+'",';break;case"data":break;default:e+='"'+i+'" : "'+t[i]+'",'}return e=e.slice(0,e.length-1)+"}"},window.Tile=e,i=function(){var e,n;return this instanceof i?(this.data={},this.width=t,this.height=t,this.id=t,this.startAt=t,this.startHeight=t,this.startWidth=t,this.display=t,this.parent=t,this.el=t,void 0):(e=new i,n=i.apply(e,arguments),n===t?e:n)},i.prototype.init=function(){if(this.id=this.id?this.id:this.data.id?this.data.id:t,this.width=this.width?this.width:this.data.width?this.data.width:2,this.height=this.height?this.height:this.data.height?this.data.height:1,this.startAt=this.startAt?this.startAt:this.data.startAt?this.data.startAt:"A1",this.display=this.display?this.display:this.data.display?this.data.display:"show",this.id||(this.id=this["private"].uniqueName(this)),!this.parent)throw new Error("TileSet Error: Parent has not been defined.");this["private"].getStart(this),this["private"].build(this)},i.prototype.getId=function(){return this.id},i.prototype.add=function(t){for(var i,n=0,a=t.length;n<a;n++)i=new e,t[n].parent=this.el,i.data=t[n],i.add()},i.prototype["private"]={},i.prototype["private"].templates={},i.prototype["private"].templates.tileset=function(){return'<div id="{{id}}" class="macys-tile-container macys-tile-container-height-{{height}} macys-tile-container-width-{{width}} macys-tile-{{display}} " data-tileset="{{id}}"></div>'},i.prototype["private"].getStart=function(t){for(var e,i,n=0,a=t.startAt.length,s="",r="";n<a;n++)e=t.startAt.charAt(n)+"","0123456789".indexOf(e)>-1?s+=e.trim():r+=e.trim();if(0===r.length)throw new Error("TileSet Error: Invalid starting location (column).");if(i=parseInt(s,10),i<1||i>13)throw new Error("TileSet Error: Invalid starting location (row).");t.startHeight=r,t.startWidth=s},i.prototype["private"].convertToElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild},i.prototype["private"].build=function(t){var e,i=t["private"].templates.tileset();i=t["private"].replaceAll(i,"{{height}}",t.height),i=t["private"].replaceAll(i,"{{id}}",t.id),i=t["private"].replaceAll(i,"{{width}}",t.width),i=t["private"].replaceAll(i,"{{startHeight}}",t.startHeight),i=t["private"].replaceAll(i,"{{startWidth}}",t.startWidth),i=t["private"].replaceAll(i,"{{display}}",t.display||"show"),t.parent=e=document.querySelector(t.parent),e.appendChild(t["private"].convertToElement(i)),t.el=e.querySelector("#"+t.id),"show"!==t.display&&"true"!==t.display&&(t.parent.style.display="none")},i.prototype["private"].replaceAll=function(t,e,i){var n=new RegExp(e,"g");return t.replace(n,i)},i.prototype["private"].uniqueName=function(t){var e="tileset-";return t.id||(t.id=Math.floor(1e4*Math.random())),e+=t.id.toString().toLowerCase().replace(/\s+/g,"")},window.TileSet=i}(),function(t,e,i,n){"use strict";function a(t,e,i){var n,a=0,s=0,r="";for(e=e.split(" "),a=e.length;s<a;s++)n=e[s],n.has(t)||(r+=" "+n);return r+=" "+i,r.trim()}n.tile={},n.tile.update=function(e){var i,s,r,o,l;s=t.parseJSON(e),s=s.tiles,s.forEach(function(e){if(e.id?(i=t("#"+e.id),o=i.parents(".macys-tile-container")):(o=t("[data-tileset="+i.tileset+"]"),i=o.find("[data-location="+i.location+"]")),l=i.find("a"),i.length&&(i=i[0]),e.color&&(n.log("- Changing color to "+e.color),i.className=a("macys-tile-color",i.className,"macys-tile-color-"+e.color)),e.icon&&(n.log("- Changing icon to "+e.icon),r=i.find(".macys-tile-icon"),r[0].className=a("macys-tile-icon-",r[0].className,"macys-tile-icon-"+e.icon)),e.title&&(n.log("- Changing title to "+e.title),i.find(".macys-title-header").html(e.title)),e.comments&&(n.log("- Changing comments to "+e.comments),i.find(".macys-title-desc").html(e.comments),i.find("a").removeClass("macys-tile-no-desc").addClass("macys-tile-desc")),"<div></div>"!==e.comments&&""!==e.comments||(i.find(".macys-title-desc").html(""),i.find("a").removeClass("macys-tile-desc").addClass("macys-tile-no-desc")),""!==e.description&&""!==e.description||(i.find(".macys-title-desc").html(""),i.find("a").removeClass("macys-tile-desc").addClass("macys-tile-no-desc")),e.badge&&(n.log("- Adding icontext : "+e.text),i.find(".macys-tile-icon-badge").html(e.badge).attr("data-badge",e.badge)),e.url&&(n.log("- Changing url to "+e.url),i.find("a").attr("href",e.url)),e.target&&(n.log("- Changing target to "+e.target),i.find("a").attr("target",e.target)),e.size&&(n.log("- Changing size to "+e.size),i.className=a("macys-tile-size",i.className,"macys-tile-size-"+e.size)),e.moveTo){n.log("- Moving Tile to "+e.moveTo);var s=e.moveTo.toString().charAt(0),c=e.moveTo.toString().replace(s,"");i.className=a("macys-tile-col",i.className,"macys-tile-col"+s),i.className=a("macys-tile-row",i.className,"macys-tile-row"+c),i.attr("data-location",e.moveTo)}e.html&&(n.log("- Replacing Tile HTML "),r=e.html.replaceAll("|",'"'),l.html(r)),i.trigger("tilesupdated")})},n.updateTile=function(e){var i,s,r,o,l,c;for(s=t.parseJSON(e),s=s.tiles,r=0;r<s.length;r++){if(l=t("[data-tileset="+s[r].tileset+"]"),i=l.find("[data-location="+s[r].location+"]"),c=i.find("a"),n.log("Modifying Tile at "+s[r].location+"..."),s[r].color&&(n.log("- Changing color to "+s[r].color),i[0].className=a("macys-linktile-color",i[0].className,"macys-linktile-color-"+s[r].color)),s[r].icon&&(n.log("- Changing icon to "+s[r].icon),o=i.find(".macys-linktile-icon"),o[0].className=a("mymacys-icon-",o[0].className,"mymacys-icon-"+s[r].icon)),s[r].title&&(n.log("- Changing title to "+s[r].title),i.find(".macys-title-header").html(s[r].title)),s[r].comments&&(n.log("- Changing comments to "+s[r].comments),i.find(".macys-title-desc").html(s[r].comments),i.find("a").removeClass("macys-tile-no-desc").addClass("macys-tile-desc")),"<div></div>"!==s[r].comments&&""!==s[r].comments||(i.find(".macys-title-desc").html(""),i.find("a").removeClass("macys-tile-desc").addClass("macys-tile-no-desc")),s[r].text&&(n.log("- Adding icontext : "+s[r].text),i.find(".macys-listtile-icon-text").html(s[r].text)),s[r].url&&(n.log("- Changing url to "+s[r].url),i.find("a").attr("href",s[r].url)),s[r].target&&(n.log("- Changing target to "+s[r].target),i.find("a").attr("target",s[r].target)),s[r].size&&(n.log("- Changing size to "+s[r].size),i[0].className=a("macys-listtile-size",i[0].className,"macys-listtile-size-"+s[r].size)),s[r].moveTo){n.log("- Moving Tile to "+s[r].moveTo);var d=s[r].moveTo.toString().charAt(0),h=s[r].moveTo.toString().replace(d,"");i[0].className=a("macys-tile-col",i[0].className,"macys-tile-col"+d),i[0].className=a("macys-tile-row",i[0].className,"macys-tile-row"+h),i.attr("data-location",s[r].moveTo)}s[r].html&&(n.log("- Replacing Tile HTML "),o=s[r].html.replaceAll("|",'"'),c.html(o)),i.trigger("tilesupdated")}}}(jQuery,window,document,ept),function(t,e,i,n){"use strict";function a(t){if(t.length<1)return[];for(var e=t.substr(1).split("&"),i=[],n="",a=e.length,s={};a--;)i=e[a].toString().toLowerCase().split("="),n=decodeURI(i[0])+"",s[n]=i.length>1?decodeURI(i[1]):"";return s}if(n.url={host:e.location.host,hostname:e.location.hostname,hash:e.location.hash,href:e.location.href,origin:e.location.origin,path:e.location.pathname,port:e.location.port,protocol:e.location.protocol,query:e.location.search,fullpath:null},n.url.parse=function(t){if(t){var e=i.createElement("a");e.href=t;var n=a(e.search);return{host:e.host,hostname:e.hostname,hash:e.hash.replace("#",""),href:e.href,path:e.pathname.replace(/^([^\/])/,"/$1"),protocol:e.protocol.replace(":",""),query:e.search,qs:n}}},n.url.qs={},e.location.search.length>1)for(var s,r=0,o=e.location.search.substr(1).split("&");r<o.length;r++)s=o[r].toString().toLowerCase().split("="),n.url.qs[decodeURI(s[0])]=s.length>1?decodeURI(s[1]):"";n.url.qs.eptdebug&&(n.debug=n.url.qs.eptdebug)}(jQuery,window,document,ept),function(t,e,i,n){"use strict";function a(t){var e,i,n,a;if(t.d){for(e=t.d,i=t.d.UserProfileProperties.results,n=i.length,a=n;a--;){var s=i[a].Key.toString(),r=i[a].Value;s=s.replace("SPS-","sps").replace("fds-","fds").replace("Zl","zl"),s.toString().indexOf("FirstName LastName PreferredName fdsNickName ")>-1&&(s=r.toString().toProperCase()),e[s]=r}return e.Picture="/_layouts/15/userphoto.aspx?size=S&accountname="+e.Email,e}return!1}function s(t){t=t||"",t=t.toString();var e=t?"/_api/SP.UserProfiles.PeopleManager/GetPropertiesFor(accountName=@v)?@v='Federated\\"+t+"'":"/_api/SP.UserProfiles.PeopleManager/GetMyProperties";return n.ajax({url:e})}function r(){var e=t.Deferred(function(e){t.when(s()).done(function(s){var r=a(s);n.user=r,e.resolve(r),t(i).trigger("userDataLoaded")}).fail(function(t){e.reject(t)})});return e}function o(e){var n=t.Deferred(function(n){t.when(s(e)).done(function(e){e.d.AccountName?(n.resolve(a(e)),t(i).trigger("userDataLoaded")):n.reject(e)}).fail(function(t){n.reject(t)})});return n}n.getUserPicUrl=function(){return"/_layouts/15/userphoto.aspx?size=M&accountname="+n.user.Email},n.getEmployeeID=function(){return t("meta[name=Employeeid]").attr("content")+""||""},n.getNavFOB=function(){return t("meta[name=NavFOB]").attr("content")+""||""},n.fixUserID=function(t){return t=t.replace("federated",""),t="B"+t,t=t.replace("Bb","b")},n.getUser=function(t){return t?o(t):r()},location.hostname.indexOf("macyspartners")===-1&&n.getUser()}(jQuery,window,document,ept);